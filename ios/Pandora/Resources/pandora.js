(()=>{"use strict";var e={252:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class Bridge{constructor(){}}},752:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(204);t.default=function wrapCallback(e,t,n){return r(this,void 0,void 0,(function*(){let r=new o.default;const i=function(){const t=parseInt(""+(1e4*Math.random()+0),10),{global:n}=window.gc._config;return`${n}_${e.replaceAll(".","")}_callback_func_${t}`}();return console.log(i,e),function _initCallback(e){window[e]=function(...t){const{global:o}=window.gc._config;n&&n(t[0]),r.unlock(t[0]),console.log("delete callback:",e),delete window[e]}}(i),r.lock(),t(i),yield r.status}))}},540:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default={bridgeName:"invoke",global:"gc",services:{util:{contextMenu:["clear"],test:["testMethod"]},runtime:{system:{lifecyle:{app:["willopen"]}},test:["testMethod"]}}}},7:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(502);class EventCenter{constructor(){this.listeners={}}subscribe(e,t){const{listeners:n}=this;let r=n[e];r||(r=[]),r.push(t),n[e]=r}publish(e,...t){const{listeners:n}=this,r=n[e];if(r)for(const e of r)e(...t)}}t.default=EventCenter,(0,r.default)("eventCenter",new EventCenter)},473:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class Global{constructor(){}}},688:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.jsbridge=void 0;const o=n(752);function invoker(e,t,n){return r(this,void 0,void 0,(function*(){let r=t;t||(r={});var o={action:e,params:r,callback:n};const{bridgeName:i}=window.gc._config;yield window.webkit.messageHandlers[i].postMessage(o)}))}t.default=invoker,t.jsbridge=function jsbridge(e,t,n){return r(this,void 0,void 0,(function*(){return yield(0,o.default)(e,(n=>invoker(e,t,n)),n)}))}},51:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(473),o=n(252),i=n(540);t.default=function launcher(e){let t=e;e||(t=i.default);const{global:s}=t;window[`${s}`]=new r.default,window[`${s}`].bridge=new o.default,window.gc._config=t,n(7)}},204:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class Lock{constructor(){this.status=new Promise((e=>{e(!0)}))}lock(){this.status=new Promise((e=>{this.callback=e}))}unlock(e){this.callback(e)}}},502:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function register(e,t){const{global:n}=window.gc._config;window[n].bridge[e]=t}},661:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(688);t.default=class Bookmarks{create(e,t){return(0,r.jsbridge)("bookmarks.create",{bookmark:e},t)}remove(e,t){return(0,r.jsbridge)("bookmarks.remove",{id:e},t)}update(e,t,n){return(0,r.jsbridge)("bookmarks.update",{id:e,changes:t},n)}getTree(e){return(0,r.jsbridge)("bookmarks.getTree",null,e)}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}},542:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(502),o=n(700),i=n(661),s=n(784),u=n(666),d=n(762),c=n(100),l=n(179),a=n(474),f=n(512);class Chrome{get runtime(){return(0,o.default)(new d.default)}get tabs(){return(0,o.default)(new l.default)}get bookmarks(){return(0,o.default)(new i.default)}get contextMenus(){return(0,o.default)(new s.default)}get storage(){return(0,o.default)(new c.default)}get extension(){return(0,o.default)(new u.default)}get commands(){return(0,o.default)(new a.default)}get pageAction(){return(0,o.default)(new f.default)}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}t.default=Chrome,(0,r.default)("chrome",(0,o.default)(new Chrome)),window.chrome=window.gc.bridge.chrome},474:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class Command{get onCommand(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_COMMAND_ONCOMMAND",e)}}}}},784:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(752),o=n(688);t.default=class ContextMenu{create(e,t){var n;if(e.id||(e.id=""),!onclick)return(0,o.jsbridge)("util.contextMenu.set",e,t);(0,r.default)(null!==(n=e.id)&&void 0!==n?n:"",(n=>(e.onclickCallback=n,(0,o.jsbridge)("util.contextMenu.set",e,t))),t)}remove(e,t){return(0,o.jsbridge)("contextMenus.remove",{menuItemId:e},t)}removeAll(e){return(0,o.jsbridge)("contextMenus.removeAll",null,e)}update(e,t,n){return(0,o.jsbridge)("contextMenus.update",{id:e,updateProperties:t},n)}get onClicked(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_CONTEXTMENU_ONCLICKED",e)}}}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}},666:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class Extension{getURL(e){return`chrome-extension://${window.chrome.__pkg__.id}/${null!=e?e:""}`}}},311:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class MessageSender{}},512:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class PageAction{setTitle(e,t){}setIcon(e,t){}show(e,t){}hide(e,t){}get onClicked(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_PAGEACTION_ONCLICKED",e)}}}}},762:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(688),i=n(688),s=n(311);var u;u||(u={});t.default=class Runtime{constructor(){this._sendMessageV3=function(e,t,n,r){return(0,o.jsbridge)("runtime.sendMessage",{extensionId:e,message:t},r)},this._sendMessageV2=function(e,t){return(0,o.jsbridge)("runtime.sendMessage",e,t)}}get id(){return window.chrome.__pkg__.id}getURL(e){return`chrome-extension://${window.chrome.__pkg__.id}/${null!=e?e:""}`}executeScript(e,t,n){return(0,o.jsbridge)("runtime.executeScript",{tabId:e,details:t},n)}get onInstalled(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_RUNTIME_ONINSTALLED",e)}}}get onMessage(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_RUNTIME_ONMESSAGE",(function(){var t;const n=arguments;e(null===(t=null==n?void 0:n[0])||void 0===t?void 0:t.param,new s.default,(function(e){var t,o;return r(this,void 0,void 0,(function*(){const r=null===(t=null==n?void 0:n[0])||void 0===t?void 0:t.callback,s=null===(o=null==n?void 0:n[0])||void 0===o?void 0:o.senderId;r.length>0&&(0,i.default)("runtime.sendResponse",{extensionId:s,response:e},r)}))}))}))}}}sendMessage(){return 3==this.getManifest().manifest_version?this._sendMessageV3.apply(this,arguments):this._sendMessageV2.apply(this,arguments)}getManifest(){return window.chrome.__pkg__.manifest}getPlatformInfo(e){return r(this,void 0,void 0,(function*(){return(0,o.jsbridge)("runtime.getPlatformInfo",null,e)}))}openOptionsPage(e){return(0,o.jsbridge)("runtime.openOptionsPage",void 0,e)}reload(){}requestUpdateCheck(e){}restart(){}restartAfterDelay(e,t){}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}},100:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(688);t.default=class Storage{get local(){return new StorageArea("local")}get sync(){return new StorageArea("sync")}};class StorageArea{constructor(e){this.api=e}set(e,t){return(0,o.jsbridge)(`storage.${this.api}.set`,e,t)}get(e,t){var n;return r(this,void 0,void 0,(function*(){return null===(n=yield(0,o.jsbridge)(`storage.${this.api}.get`,{keys:e},(function(e){t&&t(e.result)})))||void 0===n?void 0:n.result}))}clear(e){return(0,o.jsbridge)(`storage.${this.api}.clear`,null,e)}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}},179:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(688);var o,i;o||(o={}),i||(i={});t.default=class Tabs{create(e,t){return(0,r.jsbridge)("runtime.tabs.create",e,t)}remove(e,t){return(0,r.jsbridge)("runtime.tabs.remove",{tabIds:e},t)}query(e,t){return(0,r.jsbridge)("runtime.tabs.query",{queryInfo:e},t)}sendMessage(e,t,n,o){return(0,r.jsbridge)("runtime.tabs.sendMessage",{tabId:e,message:t,options:null!=n?n:{}},o)}get onRemoved(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_TABS_ONREMOVED",(function(t){e(t.tabId,t.removeInfo)}))}}}get onActivated(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_TABS_ONACTIVATED",(function(e){}))}}}get onUpdated(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_TABS_ONUPDATED",(function(e){}))}}}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}},862:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function loadBGPackage(e){const{type:t,id:n,manifest:r}=e;"BACKGROUND"!==t&&"CONTENT"!==t||(window.chrome.__pkg__=e)}},108:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(862);t.default=function loadPackage(e){const{type:t}=e;"BACKGROUND"!==t&&"CONTENT"!==t||(0,r.default)(e)}},700:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function ClassProxy(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if("function"==typeof t){if("function"==typeof e.__noSuchMethod__)return function(...n){return e.__noSuchMethod__.call(e,t,n)}}else console.log(`No property named ${t}`)}})}}},t={};function __webpack_require__(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,__webpack_require__),o.exports}(()=>{(0,__webpack_require__(51).default)(),__webpack_require__(542);const e=__webpack_require__(108);window.chrome.__loader__=e.default,console.log("dddd")})()})();