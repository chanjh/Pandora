(()=>{var e={546:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>EventCenter});var o=n(208);class EventCenter{listeners=[];subscribe(e,t){const{listeners:n}=this;let o=n[e];o||(o=[]),o.push(t),n[e]=o}async publish(e,t){const{listeners:n}=this,o=n[e];if(o)for(const e of o)await e(t)}}(0,o.Z)("eventCenter",new EventCenter)},208:(e,t,n)=>{"use strict";function register(e,t){const{global:n}=window.gc._config;window[n].bridge[e]=t}n.d(t,{Z:()=>register})},425:()=>{},821:()=>{},887:()=>{},865:()=>{},192:()=>{},411:(e,t,n)=>{var o={"./chrome.js":425,"./runtime/installed.js":821,"./runtime/runtime.js":887,"./runtime/system.js":865,"./runtime/test.js":192};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(o)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=411},70:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Chrome});var o=n(208);class Runtime{getURL(e){return`chrome-extension://test/${e}`}get onInstalled(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_RUNTIME_ONINSTALLED",e)}}}}function Lock(){this.callback=null,this.status=new Promise((e=>{e(!0)})),this.lock=function(){this.status=new Promise((e=>{this.callback=e}))},this.unlock=function(e){this.callback(e)}}async function jsbridge(e,t,n){let o=new Lock;const r=function(){const t=parseInt(1e4*Math.random()+0,10),{global:n}=window.gc._config;return`${n}_${e.replaceAll(".")}_callback_func_${t}`}();return console.log(r),function _initCallback(e){window[e]=async function(){const{global:t}=window.gc._config;if(n){const e=await n(arguments[0]);o.unlock(e)}else o.unlock(arguments[0]);delete window[e]}}(r),o=new Lock,o.lock(),await async function invoker(e,t,n){var o={action:e,params:t,callback:n};const{bridgeName:r}=window.gc._config;await window.webkit.messageHandlers[r].postMessage(o)}(e,t,r),await o.status}class Tabs{async create(e){return await jsbridge("runtime.tabs.create",e)}}class Chrome{get runtime(){return new Runtime}get tabs(){return new Tabs}}(0,o.Z)("chrome",new Chrome),window.chrome=window.gc.bridge.chrome}},t={};function __webpack_require__(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";class Global{constructor(){}}class Bridge{constructor(){}}const e={bridgeName:"invoke",global:"gc",services:{util:{contextMenu:["clear"],test:["testMethod"]},runtime:{system:{lifecyle:{app:["willopen"]}},test:["testMethod"]}}};!function launcher(t){let n=t;t||(n=e);const{global:o}=n;window[`${o}`]=new Global,window[`${o}`].bridge=new Bridge,window.gc._config=n,__webpack_require__(546)}(),__webpack_require__(70),window.chrome.__loader__=function loadPackage(e){const{type:t}=e;"BACKGROUND"===t&&function loadBGPackage(e){const{type:t,id:n}=e;"BACKGROUND"===t&&(window.chrome.__pkg__={type:t,id:n})}(e)},console.log("dddd")})()})();