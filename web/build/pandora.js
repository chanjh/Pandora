(()=>{"use strict";var e={456:(e,t)=>{t.__esModule=!0;var n=function n(){};t.default=n},541:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(s){return function step(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};t.__esModule=!0;var i=n(426);t.default=function wrapCallback(e,t,n){return r(this,void 0,void 0,(function(){var r,u,s;return o(this,(function(o){switch(o.label){case 0:return r=function(){var t=parseInt("".concat(1e4*Math.random()+0),10),n=window.gc._config.global;return"".concat(n,"_").concat(e.replaceAll(".",""),"_callback_func_").concat(t)},u=new i.default,s=r(),console.log(s,e),function _initCallback(e){window[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];window.gc._config.global,n&&n(t[0]),u.unlock(t[0]),console.log("delete callback:",e),delete window[e]}}(s),u.lock(),t(s),[4,u.status];case 1:return[2,o.sent()]}}))}))}},924:(e,t)=>{t.__esModule=!0;t.default={bridgeName:"invoke",global:"gc",services:{util:{contextMenu:["clear"],test:["testMethod"]},runtime:{system:{lifecyle:{app:["willopen"]}},test:["testMethod"]}}}},31:(e,t,n)=>{t.__esModule=!0;var r=n(175),o=function(){function EventCenter(){this.listeners={}}return EventCenter.prototype.subscribe=function(e,t){var n=this.listeners,r=n[e];r||(r=[]),r.push(t),n[e]=r},EventCenter.prototype.publish=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.listeners,o=r[e];if(o)for(var i=0,u=o;i<u.length;i++){var s=u[i];s.apply(void 0,t)}},EventCenter}();t.default=o,(0,r.default)("eventCenter",new o)},736:(e,t)=>{t.__esModule=!0;var n=function n(){};t.default=n},150:(e,t,n)=>{t.__esModule=!0,t.callback_wrapper=t.jsbridge=t.invoker=t.register=t.launcher=void 0;var r=n(957);t.launcher=r.default;var o=n(175);t.register=o.default;var i=n(464);t.invoker=i.default,t.jsbridge=i.jsbridge;var u=n(541);t.callback_wrapper=u.default},464:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(s){return function step(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};t.__esModule=!0,t.jsbridge=void 0;var i=n(541);function invoker(e,t,n){return r(this,void 0,void 0,(function(){var r,i,u;return o(this,(function(o){switch(o.label){case 0:return r=t,t||(r={}),i={action:e,params:r,callback:n},u=window.gc._config.bridgeName,[4,window.webkit.messageHandlers[u].postMessage(i)];case 1:return o.sent(),[2]}}))}))}t.default=invoker,t.jsbridge=function jsbridge(e,t,n){return r(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,(0,i.default)(e,(function(n){return invoker(e,t,n)}),n)];case 1:return[2,r.sent()]}}))}))}},957:(e,t,n)=>{t.__esModule=!0;var r=n(736),o=n(456),i=n(924);t.default=function launcher(e){var t=e;e||(t=i.default);var u=t.global;window["".concat(u)]=new r.default,window["".concat(u)].bridge=new o.default,window.gc._config=t,n(31)}},426:(e,t)=>{t.__esModule=!0;var n=function(){function Lock(){this.status=new Promise((function(e){e(!0)}))}return Lock.prototype.lock=function(){var e=this;this.status=new Promise((function(t){e.callback=t}))},Lock.prototype.unlock=function(e){this.callback(e)},Lock}();t.default=n},175:(e,t)=>{t.__esModule=!0,t.default=function register(e,t){var n=window.gc._config.global;window[n].bridge[e]=t}},661:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(150);t.default=class Bookmarks{create(e,t){return(0,r.jsbridge)("bookmarks.create",{bookmark:e},t)}remove(e,t){return(0,r.jsbridge)("bookmarks.remove",{id:e},t)}update(e,t,n){return(0,r.jsbridge)("bookmarks.update",{id:e,changes:t},n)}getTree(e){return(0,r.jsbridge)("bookmarks.getTree",null,e)}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}},610:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(150);t.default=class BrowserAction{get onClicked(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_BROWSERACTION_ONCLICKED",e)}}}setTitle(e,t){return(0,r.jsbridge)("browserAction.setTitle",e,t)}setIcon(e,t){return(0,r.jsbridge)("browserAction.setIcon",e,t)}}},542:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(150),o=n(700),i=n(661),u=n(784),s=n(666),a=n(762),c=n(100),l=n(179),d=n(474),f=n(512),_=n(639),g=n(610),b=n(951);class Chrome{get runtime(){return(0,o.default)(new a.default)}get tabs(){return(0,o.default)(new l.default)}get browserAction(){return(0,o.default)(new g.default)}get bookmarks(){return(0,o.default)(new i.default)}get cookies(){return(0,o.default)(new b.default)}get contextMenus(){return(0,o.default)(new u.default)}get storage(){return(0,o.default)(new c.default)}get extension(){return(0,o.default)(new s.default)}get commands(){return(0,o.default)(new d.default)}get pageAction(){return(0,o.default)(new f.default)}get downloads(){return(0,o.default)(new _.default)}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}t.default=Chrome,(0,r.register)("chrome",(0,o.default)(new Chrome)),window.chrome=window.gc.bridge.chrome},474:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class Command{get onCommand(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_COMMAND_ONCOMMAND",e)}}}}},784:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(150);t.default=class ContextMenu{create(e,t){var n;if(e.id||(e.id=""),!onclick)return(0,r.jsbridge)("util.contextMenu.set",e,t);(0,r.wrapCallback)(null!==(n=e.id)&&void 0!==n?n:"",(n=>(e.onclickCallback=n,(0,r.jsbridge)("util.contextMenu.set",e,t))),t)}remove(e,t){return(0,r.jsbridge)("contextMenus.remove",{menuItemId:e},t)}removeAll(e){return(0,r.jsbridge)("contextMenus.removeAll",null,e)}update(e,t,n){return(0,r.jsbridge)("contextMenus.update",{id:e,updateProperties:t},n)}get onClicked(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_CONTEXTMENU_ONCLICKED",e)}}}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}},951:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(150);t.default=class Cookies{get(e,t){return(0,r.jsbridge)("cookies.get",e,t)}getAll(e,t){return(0,r.jsbridge)("cookies.getAll",e,t)}}},639:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(150);t.default=class Downloads{download(e,t){return r(this,void 0,void 0,(function*(){const n="downloads.download";if(e.url.startsWith("blob:")){const i=yield function blob2Base64(e){return r(this,void 0,void 0,(function*(){return new Promise((function(t,n){var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(){var e=r.response,n=new FileReader;n.onload=function(){var e=n.result;t(e)},n.readAsDataURL(e)},r.open("GET",e),r.send()}))}))}(e.url),u=Object.assign(e,{base64:i});return(0,o.jsbridge)(n,u,t)}return(0,o.jsbridge)(n,e,t)}))}}},666:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class Extension{getURL(e){return`chrome-extension://${window.chrome.__pkg__.id}/${null!=e?e:""}`}}},311:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class MessageSender{}},512:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class PageAction{setTitle(e,t){}setIcon(e,t){}show(e,t){}hide(e,t){}get onClicked(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_PAGEACTION_ONCLICKED",e)}}}}},762:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(150),i=n(311);var u;u||(u={});t.default=class Runtime{constructor(){this._sendMessageV3=function(e,t,n,r){return(0,o.jsbridge)("runtime.sendMessage",{extensionId:e,message:t},r)},this._sendMessageV2=function(e,t){return(0,o.jsbridge)("runtime.sendMessage",e,t)}}get id(){return window.chrome.__pkg__.id}getURL(e){return`chrome-extension://${window.chrome.__pkg__.id}/${null!=e?e:""}`}executeScript(e,t,n){return(0,o.jsbridge)("runtime.executeScript",{tabId:e,details:t},n)}get onInstalled(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_RUNTIME_ONINSTALLED",e)}}}get onMessage(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_RUNTIME_ONMESSAGE",(function(){var t;const n=arguments;e(null===(t=null==n?void 0:n[0])||void 0===t?void 0:t.param,new i.default,(function(e){var t,i;return r(this,void 0,void 0,(function*(){const r=null===(t=null==n?void 0:n[0])||void 0===t?void 0:t.callback,u=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i.senderId;r.length>0&&(0,o.invoker)("runtime.sendResponse",{extensionId:u,response:e},r)}))}))}))}}}sendMessage(){return 3==this.getManifest().manifest_version?this._sendMessageV3.apply(this,arguments):this._sendMessageV2.apply(this,arguments)}getManifest(){return window.chrome.__pkg__.manifest}getPlatformInfo(e){return r(this,void 0,void 0,(function*(){return(0,o.jsbridge)("runtime.getPlatformInfo",null,e)}))}openOptionsPage(e){return(0,o.jsbridge)("runtime.openOptionsPage",void 0,e)}reload(){}requestUpdateCheck(e){}restart(){}restartAfterDelay(e,t){}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}},100:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(150);t.default=class Storage{get local(){return new StorageArea("local")}get sync(){return new StorageArea("sync")}};class StorageArea{constructor(e){this.api=e}set(e,t){return(0,o.jsbridge)(`storage.${this.api}.set`,e,t)}get(e,t){var n;return r(this,void 0,void 0,(function*(){return null===(n=yield(0,o.jsbridge)(`storage.${this.api}.get`,{keys:e},(function(e){t&&t(e.result)})))||void 0===n?void 0:n.result}))}clear(e){return(0,o.jsbridge)(`storage.${this.api}.clear`,null,e)}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}},179:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(150);var o,i;o||(o={}),i||(i={});t.default=class Tabs{create(e,t){var n;const o=null===(n=window.chrome.__pkg__.manifest.chrome_url_overrides)||void 0===n?void 0:n.newtab;return e.url===o&&(e.url=`chrome-extension://${window.chrome.__pkg__.id}/${o}`),(0,r.jsbridge)("runtime.tabs.create",e,t)}remove(e,t){return(0,r.jsbridge)("runtime.tabs.remove",{tabIds:e},t)}query(e,t){return(0,r.jsbridge)("runtime.tabs.query",{queryInfo:e},t)}sendMessage(e,t,n,o){return(0,r.jsbridge)("runtime.tabs.sendMessage",{tabId:e,message:t,options:null!=n?n:{}},o)}get onRemoved(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_TABS_ONREMOVED",(function(t){e(t.tabId,t.removeInfo)}))}}}get onActivated(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_TABS_ONACTIVATED",(function(e){}))}}}get onUpdated(){return{addListener:function(e){window.gc.bridge.eventCenter.subscribe("PD_EVENT_TABS_ONUPDATED",(function(e){}))}}}__noSuchMethod__(e,t){console.log(`No such method ${e} called with ${t}`)}}},862:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function loadBGPackage(e){const{type:t,id:n,manifest:r}=e;"BACKGROUND"!==t&&"CONTENT"!==t||(window.chrome.__pkg__=e)}},108:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(862);t.default=function loadPackage(e){const{type:t}=e;"BACKGROUND"!==t&&"CONTENT"!==t||(0,r.default)(e)}},700:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function ClassProxy(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if("function"==typeof t){if("function"==typeof e.__noSuchMethod__)return function(...n){return e.__noSuchMethod__.call(e,t,n)}}else console.log(`No property named ${t}`)}})}}},t={};function __webpack_require__(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,__webpack_require__),o.exports}(()=>{(0,__webpack_require__(150).launcher)(),__webpack_require__(542);const e=__webpack_require__(108);window.chrome.__loader__=e.default,console.log("dddd")})()})();